{"remainingRequest":"/home/jlawrence/10x/apps/OmsVue/node_modules/thread-loader/dist/cjs.js!/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js!/home/jlawrence/10x/apps/OmsVue/node_modules/eslint-loader/index.js??ref--13-0!/home/jlawrence/10x/apps/OmsVue/src/api/report.js","dependencies":[{"path":"/home/jlawrence/10x/apps/OmsVue/src/api/report.js","mtime":1585672524033},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/home/jlawrence/10x/apps/OmsVue/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport { refreshToken } from '@/refresh-token';\nimport { encodeData } from '@/utils';\nexport default {\n  fetch: function fetch(params) {\n    return axios.get(\"report/headers\", {\n      params: params\n    });\n  },\n  downloadReport: function downloadReport(params) {\n    return refreshToken(axios).then(function () {\n      var url = process.env.VUE_APP_API_URL + 'report/headers?' + encodeData(_objectSpread({}, params, {\n        xls: true,\n        token: localStorage.getItem('accessToken')\n      }));\n      window.open(url, '_blank');\n    });\n  },\n  downloadReportDetails: function downloadReportDetails(params) {\n    return refreshToken(axios).then(function () {\n      var url = process.env.VUE_APP_API_URL + 'report/details?' + encodeData(_objectSpread({}, params, {\n        xls: true,\n        token: localStorage.getItem('accessToken')\n      }));\n      window.open(url, '_blank');\n    });\n  },\n  fetchReportExcel: function fetchReportExcel(params) {\n    return axios.get(\"report\", {\n      params: _objectSpread({}, params, {\n        xls: true\n      }),\n      responseType: 'arraybuffer'\n    });\n  },\n  fetchDrivers: function fetchDrivers() {\n    return axios.get(\"user\");\n  },\n  fetchWarehouses: function fetchWarehouses() {\n    return axios.get(\"warehouse\");\n  },\n  fetchCustomers: function fetchCustomers() {\n    return axios.get(\"customer\");\n  }\n}; // function refreshToken(axios) {\n//     return new Promise((resolve, reject) => {\n//         axios\n//             .get('/auth/refresh-token')\n//             .then(res => {\n//                 let token = res.data.success.data.token\n//                 resolve(token)\n//             })\n//             .catch(error => {\n//                 reject(error)\n//             })\n//     })\n// }",{"version":3,"sources":["/home/jlawrence/10x/apps/OmsVue/src/api/report.js"],"names":["axios","refreshToken","encodeData","fetch","params","get","downloadReport","then","url","process","env","VUE_APP_API_URL","xls","token","localStorage","getItem","window","open","downloadReportDetails","fetchReportExcel","responseType","fetchDrivers","fetchWarehouses","fetchCustomers"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,SAA3B;AAEA,eAAe;AACXC,EAAAA,KADW,iBACLC,MADK,EACG;AACV,WAAOJ,KAAK,CAACK,GAAN,mBAA4B;AAAED,MAAAA,MAAM,EAAEA;AAAV,KAA5B,CAAP;AACH,GAHU;AAIXE,EAAAA,cAJW,0BAIIF,MAJJ,EAIY;AACnB,WAAOH,YAAY,CAACD,KAAD,CAAZ,CAAoBO,IAApB,CAAyB,YAAM;AAClC,UAAIC,GAAG,GACHC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GACA,iBADA,GAEAT,UAAU,mBACHE,MADG;AAENQ,QAAAA,GAAG,EAAE,IAFC;AAGNC,QAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB;AAHD,SAHd;AAQAC,MAAAA,MAAM,CAACC,IAAP,CAAYT,GAAZ,EAAiB,QAAjB;AACH,KAVM,CAAP;AAWH,GAhBU;AAiBXU,EAAAA,qBAjBW,iCAiBWd,MAjBX,EAiBmB;AAC1B,WAAOH,YAAY,CAACD,KAAD,CAAZ,CAAoBO,IAApB,CAAyB,YAAM;AAClC,UAAIC,GAAG,GACHC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GACA,iBADA,GAEAT,UAAU,mBACHE,MADG;AAENQ,QAAAA,GAAG,EAAE,IAFC;AAGNC,QAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB;AAHD,SAHd;AAQAC,MAAAA,MAAM,CAACC,IAAP,CAAYT,GAAZ,EAAiB,QAAjB;AACH,KAVM,CAAP;AAWH,GA7BU;AA8BXW,EAAAA,gBA9BW,4BA8BMf,MA9BN,EA8Bc;AACrB,WAAOJ,KAAK,CAACK,GAAN,WAAoB;AACvBD,MAAAA,MAAM,oBAAOA,MAAP;AAAeQ,QAAAA,GAAG,EAAE;AAApB,QADiB;AAEvBQ,MAAAA,YAAY,EAAE;AAFS,KAApB,CAAP;AAIH,GAnCU;AAoCXC,EAAAA,YApCW,0BAoCI;AACX,WAAOrB,KAAK,CAACK,GAAN,QAAP;AACH,GAtCU;AAuCXiB,EAAAA,eAvCW,6BAuCO;AACd,WAAOtB,KAAK,CAACK,GAAN,aAAP;AACH,GAzCU;AA0CXkB,EAAAA,cA1CW,4BA0CM;AACb,WAAOvB,KAAK,CAACK,GAAN,YAAP;AACH;AA5CU,CAAf,C,CA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios'\nimport { refreshToken } from '@/refresh-token'\nimport { encodeData } from '@/utils'\n\nexport default {\n    fetch(params) {\n        return axios.get(`report/headers`, { params: params })\n    },\n    downloadReport(params) {\n        return refreshToken(axios).then(() => {\n            let url =\n                process.env.VUE_APP_API_URL +\n                'report/headers?' +\n                encodeData({\n                    ...params,\n                    xls: true,\n                    token: localStorage.getItem('accessToken'),\n                })\n            window.open(url, '_blank')\n        })\n    },\n    downloadReportDetails(params) {\n        return refreshToken(axios).then(() => {\n            let url =\n                process.env.VUE_APP_API_URL +\n                'report/details?' +\n                encodeData({\n                    ...params,\n                    xls: true,\n                    token: localStorage.getItem('accessToken'),\n                })\n            window.open(url, '_blank')\n        })\n    },\n    fetchReportExcel(params) {\n        return axios.get(`report`, {\n            params: { ...params, xls: true },\n            responseType: 'arraybuffer',\n        })\n    },\n    fetchDrivers() {\n        return axios.get(`user`)\n    },\n    fetchWarehouses() {\n        return axios.get(`warehouse`)\n    },\n    fetchCustomers() {\n        return axios.get(`customer`)\n    },\n}\n\n// function refreshToken(axios) {\n//     return new Promise((resolve, reject) => {\n//         axios\n//             .get('/auth/refresh-token')\n//             .then(res => {\n//                 let token = res.data.success.data.token\n//                 resolve(token)\n//             })\n//             .catch(error => {\n//                 reject(error)\n//             })\n//     })\n// }\n"]}]}