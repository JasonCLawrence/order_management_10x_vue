{"remainingRequest":"/home/jlawrence/10x/apps/OmsVue/node_modules/thread-loader/dist/cjs.js!/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js!/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jlawrence/10x/apps/OmsVue/src/views/Users/CreateUserForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jlawrence/10x/apps/OmsVue/src/views/Users/CreateUserForm.vue","mtime":1585672524045},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'create-user-form',\n  props: [],\n  data: function data() {\n    return {\n      model: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        roles: ['driver']\n      },\n      submitting: false,\n      hasErrors: false\n    };\n  },\n  methods: {\n    cancel: function cancel() {\n      this.$emit('cancel');\n    },\n    create: function create() {\n      var _this = this;\n\n      this.$validator.validate().then(function (valid) {\n        if (valid) {\n          _this.submitting = true;\n\n          _this.$store.dispatch('createUser', _this.model).then(function () {\n            _this.model = {\n              firstName: '',\n              lastName: '',\n              email: '',\n              password: '',\n              confirmPassword: '',\n              roles: ['driver']\n            };\n            _this.submitting = false;\n\n            _this.$emit('success');\n          }).catch(function (res) {\n            // show errors\n            console.log(res);\n          }).finally(function () {\n            _this.submitting = false;\n          });\n        } else {}\n      });\n    },\n    toggleRole: function toggleRole(role) {\n      var roles = this.model.roles;\n\n      if (roles.includes(role)) {\n        roles.splice(roles.indexOf(role), 1);\n      } else {\n        roles.push(role);\n      }\n\n      this.model.roles = roles;\n    }\n  }\n};",{"version":3,"sources":["CreateUserForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,KAAA,EAAA,EAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA,EAJA;AAKA,QAAA,eAAA,EAAA,EALA;AAMA,QAAA,KAAA,EAAA,CAAA,QAAA;AANA,OADA;AASA,MAAA,UAAA,EAAA,KATA;AAUA,MAAA,SAAA,EAAA;AAVA,KAAA;AAYA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,KAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AAAA;;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,IAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CACA,QADA,CACA,YADA,EACA,KAAA,CAAA,KADA,EAEA,IAFA,CAEA,YAAA;AACA,YAAA,KAAA,CAAA,KAAA,GAAA;AACA,cAAA,SAAA,EAAA,EADA;AAEA,cAAA,QAAA,EAAA,EAFA;AAGA,cAAA,KAAA,EAAA,EAHA;AAIA,cAAA,QAAA,EAAA,EAJA;AAKA,cAAA,eAAA,EAAA,EALA;AAMA,cAAA,KAAA,EAAA,CAAA,QAAA;AANA,aAAA;AAQA,YAAA,KAAA,CAAA,UAAA,GAAA,KAAA;;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,SAAA;AACA,WAbA,EAcA,KAdA,CAcA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAjBA,EAkBA,OAlBA,CAkBA,YAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,WApBA;AAqBA,SAvBA,MAuBA,CACA;AACA,OA1BA;AA2BA,KAhCA;AAiCA,IAAA,UAjCA,sBAiCA,IAjCA,EAiCA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AACA,WAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA;AAzCA;AAjBA,CAAA","sourcesContent":["<template>\n    <form role=\"form\" submit.prevent=\"login\">\n        <h2 class=\"text-center\">Create User</h2>\n\n        <base-input\n            label=\"First Name\"\n            placeholder=\"John\"\n            name=\"firstName\"\n            v-model=\"model.firstName\"\n            :error=\"errors.first('firstName')\"\n            v-validate=\"'required'\"\n            type=\"text\"\n        ></base-input>\n\n        <base-input\n            label=\"Last Name\"\n            placeholder=\"Doe\"\n            v-model=\"model.lastName\"\n            name=\"lastName\"\n            :error=\"errors.first('lastName')\"\n            v-validate=\"'required'\"\n            type=\"text\"\n        ></base-input>\n\n        <base-input\n            label=\"Email\"\n            placeholder=\"Email\"\n            v-model=\"model.email\"\n            name=\"email\"\n            :error=\"errors.first('email')\"\n            v-validate=\"'required|email'\"\n            type=\"text\"\n        ></base-input>\n\n        <base-input\n            label=\"Password\"\n            type=\"password\"\n            v-model=\"model.password\"\n            name=\"password\"\n            :error=\"errors.first('password')\"\n            v-validate=\"'required|min:6'\"\n        ></base-input>\n\n        <base-input\n            label=\"Confirm Password\"\n            type=\"password\"\n            v-model=\"model.confirmPassword\"\n            name=\"confirmPassword\"\n            :error=\"errors.first('confirmPassword')\"\n            v-validate=\"'required|min:6|confirmed:password'\"\n        ></base-input>\n\n        <div class=\"form-group has-label\">\n            <label class=\"form-control-label\">Roles</label>\n            <base-checkbox\n                :checked=\"model.roles.includes('administrator')\"\n                @input=\"toggleRole('administrator')\"\n            >Administrator</base-checkbox>\n            <base-checkbox\n                :checked=\"model.roles.includes('driver')\"\n                @input=\"toggleRole('driver')\"\n            >Driver</base-checkbox>\n        </div>\n\n        <!-- <div class=\"text-right\">\n      <base-button\n        class=\"my-4\"\n        type=\"primary\"\n        :disabled=\"signingIn?true:false\"\n        @click=\"login()\"\n      >{{ signingIn?\"Signing In\":\"Sign In\" }}</base-button>\n        </div>-->\n        <div class=\"text-right\">\n            <base-button\n                class=\"my-4\"\n                type=\"warning\"\n                :disabled=\"submitting?true:false\"\n                @click=\"cancel()\"\n            >Cancel</base-button>\n\n            <base-button\n                class=\"my-4\"\n                type=\"primary\"\n                :disabled=\"submitting?true:false\"\n                @click=\"create()\"\n            >{{ submitting ? \"Creating..\" : \"Create\" }}</base-button>\n        </div>\n    </form>\n</template>\n\n<script>\nexport default {\n    name: 'create-user-form',\n    props: [],\n    data: () => {\n        return {\n            model: {\n                firstName: '',\n                lastName: '',\n                email: '',\n                password: '',\n                confirmPassword: '',\n                roles: ['driver'],\n            },\n            submitting: false,\n            hasErrors: false,\n        }\n    },\n    methods: {\n        cancel() {\n            this.$emit('cancel')\n        },\n        create() {\n            this.$validator.validate().then(valid => {\n                if (valid) {\n                    this.submitting = true\n                    this.$store\n                        .dispatch('createUser', this.model)\n                        .then(() => {\n                            this.model = {\n                                firstName: '',\n                                lastName: '',\n                                email: '',\n                                password: '',\n                                confirmPassword: '',\n                                roles: ['driver'],\n                            }\n                            this.submitting = false\n                            this.$emit('success')\n                        })\n                        .catch(res => {\n                            // show errors\n                            console.log(res)\n                        })\n                        .finally(() => {\n                            this.submitting = false\n                        })\n                } else {\n                }\n            })\n        },\n        toggleRole(role) {\n            let roles = this.model.roles\n            if (roles.includes(role)) {\n                roles.splice(roles.indexOf(role), 1)\n            } else {\n                roles.push(role)\n            }\n            this.model.roles = roles\n        },\n    },\n}\n</script>\n"],"sourceRoot":"src/views/Users"}]}