{"remainingRequest":"/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js!/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jlawrence/10x/apps/OmsVue/src/views/Orders/QueryFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jlawrence/10x/apps/OmsVue/src/views/Orders/QueryFilter.vue","mtime":1585672524045},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find-index\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from '@/api/report';\nimport flatPicker from 'vue-flatpickr-component';\nimport moment from 'moment';\nexport default {\n  components: {\n    flatPicker: flatPicker\n  },\n  name: 'reports-table',\n  props: ['value'],\n  data: function data() {\n    return {\n      model: {\n        driver_id: 0,\n        customer_id: 0,\n        warehouse_id: 0,\n        completed: 'any',\n        type: 'any',\n        created_start: moment().startOf('month').format('YYYY-MM-DD'),\n        created_end: moment().endOf('month').format('YYYY-MM-DD')\n      },\n      drivers: [],\n      customers: [],\n      warehouses: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    api.fetchDrivers().then(function (result) {\n      var drivers = result.data.success.data.data;\n      drivers = drivers.filter(function (x) {\n        var res = x.roles.findIndex(function (r) {\n          return r.role.name == 'driver';\n        }) !== -1;\n        return res;\n      });\n      _this.drivers = drivers;\n    });\n    api.fetchWarehouses().then(function (result) {\n      var warehouses = result.data.success.data.data;\n      _this.warehouses = warehouses;\n    });\n    api.fetchCustomers().then(function (result) {\n      var customers = result.data.success.data.data;\n      _this.customers = customers;\n    });\n  },\n  methods: {\n    getFilters: function getFilters() {\n      return this.model;\n    }\n  },\n  watch: {\n    model: {\n      handler: function handler() {\n        console.log('emitting change');\n        console.log(this.model);\n        this.$emit('input', this.model);\n      },\n      deep: true\n    }\n  }\n};",{"version":3,"sources":["QueryFilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA,OAAA,GAAA,MAAA,cAAA;AACA,OAAA,UAAA,MAAA,yBAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,eAFA;AAGA,EAAA,KAAA,EAAA,CAAA,OAAA,CAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,SAAA,EAAA,CADA;AAEA,QAAA,WAAA,EAAA,CAFA;AAGA,QAAA,YAAA,EAAA,CAHA;AAIA,QAAA,SAAA,EAAA,KAJA;AAKA,QAAA,IAAA,EAAA,KALA;AAMA,QAAA,aAAA,EAAA,MAAA,GACA,OADA,CACA,OADA,EAEA,MAFA,CAEA,YAFA,CANA;AASA,QAAA,WAAA,EAAA,MAAA,GACA,KADA,CACA,OADA,EAEA,MAFA,CAEA,YAFA;AATA,OADA;AAcA,MAAA,OAAA,EAAA,EAdA;AAeA,MAAA,SAAA,EAAA,EAfA;AAgBA,MAAA,UAAA,EAAA;AAhBA,KAAA;AAkBA,GAvBA;AAwBA,EAAA,OAxBA,qBAwBA;AAAA;;AACA,IAAA,GAAA,CAAA,YAAA,GAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AAEA,MAAA,OAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,GAAA,GACA,CAAA,CAAA,KAAA,CAAA,SAAA,CAAA,UAAA,CAAA,EAAA;AACA,iBAAA,CAAA,CAAA,IAAA,CAAA,IAAA,IAAA,QAAA;AACA,SAFA,MAEA,CAAA,CAHA;AAIA,eAAA,GAAA;AACA,OANA,CAAA;AAOA,MAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,KAXA;AAaA,IAAA,GAAA,CAAA,eAAA,GAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,UAAA;AACA,KAHA;AAKA,IAAA,GAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,SAAA,GAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,SAAA;AACA,KAHA;AAIA,GA/CA;AAgDA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,KAAA;AACA;AAHA,GAhDA;AAqDA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,OADA,qBACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,iBAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,aAAA,KAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,OALA;AAMA,MAAA,IAAA,EAAA;AANA;AADA;AArDA,CAAA","sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"col-md-2\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Customer</label>\n                <div class=\"has-label\">\n                    <select class=\"form-control\" v-model=\"model.customer_id\">\n                        <option value=\"0\" default>Any</option>\n                        <option v-for=\"(el, key) in customers\" :value=\"el.id\" :key=\"key\">{{el.name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Warehouse</label>\n                <div class=\"has-label\">\n                    <select class=\"form-control\" v-model=\"model.warehouse_id\">\n                        <option :value=\"0\">Any</option>\n                        <option\n                            v-for=\"(el, key) in warehouses\"\n                            :value=\"el.id\"\n                            :key=\"key\"\n                        >{{el.name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Driver</label>\n                <div class=\"has-label\">\n                    <select class=\"form-control\" v-model=\"model.driver_id\">\n                        <option :value=\"0\">Any</option>\n                        <option\n                            v-for=\"(driver, key) in drivers\"\n                            :value=\"driver.id\"\n                            :key=\"key\"\n                        >{{driver.first_name}} {{driver.last_name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"col-md-2\">\n            <base-input label=\"Start Date\">\n                <flat-picker\n                    slot-scope=\"{focus, blur}\"\n                    @on-open=\"focus\"\n                    @on-close=\"blur\"\n                    :config=\"{allowInput: true}\"\n                    class=\"form-control datepicker\"\n                    v-model=\"model.created_start\"\n                ></flat-picker>\n            </base-input>\n        </div>\n        <div class=\"col-md-2\">\n            <base-input label=\"End Date\">\n                <flat-picker\n                    slot-scope=\"{focus, blur}\"\n                    @on-open=\"focus\"\n                    @on-close=\"blur\"\n                    :config=\"{allowInput: true}\"\n                    class=\"form-control datepicker\"\n                    v-model=\"model.created_end\"\n                ></flat-picker>\n            </base-input>\n        </div>\n        <div class=\"col-md-1\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Type</label>\n                <div class=\"has-label\">\n                    <select id=\"make\" name=\"type\" class=\"form-control\" v-model=\"model.type\">\n                        <option value=\"any\">All</option>\n                        <option value=\"service\">Service</option>\n                        <option value=\"invoice\">Invoice</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-1\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Completed</label>\n                <div class=\"has-label\">\n                    <select\n                        id=\"completed\"\n                        name=\"type\"\n                        class=\"form-control\"\n                        v-model=\"model.completed\"\n                    >\n                        <option value=\"any\">Any</option>\n                        <option value=\"yes\">Yes</option>\n                        <option value=\"no\">No</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <!-- <div class=\"col-md-1\">\n                    <label class=\"form-control-label\">&nbsp;</label>\n                    <br />\n                    <base-button type=\"primary\" @click=\"fetchReport()\">Generate</base-button>\n        </div>-->\n    </div>\n</template>\n\n<script>\nimport api from '@/api/report'\nimport flatPicker from 'vue-flatpickr-component'\nimport moment from 'moment'\n\nexport default {\n    components: { flatPicker },\n    name: 'reports-table',\n    props: ['value'],\n    data() {\n        return {\n            model: {\n                driver_id: 0,\n                customer_id: 0,\n                warehouse_id: 0,\n                completed: 'any',\n                type: 'any',\n                created_start: moment()\n                    .startOf('month')\n                    .format('YYYY-MM-DD'),\n                created_end: moment()\n                    .endOf('month')\n                    .format('YYYY-MM-DD'),\n            },\n            drivers: [],\n            customers: [],\n            warehouses: [],\n        }\n    },\n    mounted() {\n        api.fetchDrivers().then(result => {\n            let drivers = result.data.success.data.data\n\n            drivers = drivers.filter(x => {\n                let res =\n                    x.roles.findIndex(r => {\n                        return r.role.name == 'driver'\n                    }) !== -1\n                return res\n            })\n            this.drivers = drivers\n        })\n\n        api.fetchWarehouses().then(result => {\n            let warehouses = result.data.success.data.data\n            this.warehouses = warehouses\n        })\n\n        api.fetchCustomers().then(result => {\n            let customers = result.data.success.data.data\n            this.customers = customers\n        })\n    },\n    methods: {\n        getFilters() {\n            return this.model\n        },\n    },\n    watch: {\n        model: {\n            handler() {\n                console.log('emitting change')\n                console.log(this.model)\n                this.$emit('input', this.model)\n            },\n            deep: true,\n        },\n    },\n}\n</script>"],"sourceRoot":"src/views/Orders"}]}