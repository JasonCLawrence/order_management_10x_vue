{"remainingRequest":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jlawrence/10x/apps/OmsVue/src/views/Orders/QueryFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jlawrence/10x/apps/OmsVue/src/views/Orders/QueryFilter.vue","mtime":1585672524045},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/api/report'\nimport flatPicker from 'vue-flatpickr-component'\nimport moment from 'moment'\n\nexport default {\n    components: { flatPicker },\n    name: 'reports-table',\n    props: ['value'],\n    data() {\n        return {\n            model: {\n                driver_id: 0,\n                customer_id: 0,\n                warehouse_id: 0,\n                completed: 'any',\n                type: 'any',\n                created_start: moment()\n                    .startOf('month')\n                    .format('YYYY-MM-DD'),\n                created_end: moment()\n                    .endOf('month')\n                    .format('YYYY-MM-DD'),\n            },\n            drivers: [],\n            customers: [],\n            warehouses: [],\n        }\n    },\n    mounted() {\n        api.fetchDrivers().then(result => {\n            let drivers = result.data.success.data.data\n\n            drivers = drivers.filter(x => {\n                let res =\n                    x.roles.findIndex(r => {\n                        return r.role.name == 'driver'\n                    }) !== -1\n                return res\n            })\n            this.drivers = drivers\n        })\n\n        api.fetchWarehouses().then(result => {\n            let warehouses = result.data.success.data.data\n            this.warehouses = warehouses\n        })\n\n        api.fetchCustomers().then(result => {\n            let customers = result.data.success.data.data\n            this.customers = customers\n        })\n    },\n    methods: {\n        getFilters() {\n            return this.model\n        },\n    },\n    watch: {\n        model: {\n            handler() {\n                console.log('emitting change')\n                console.log(this.model)\n                this.$emit('input', this.model)\n            },\n            deep: true,\n        },\n    },\n}\n",{"version":3,"sources":["QueryFilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QueryFilter.vue","sourceRoot":"src/views/Orders","sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"col-md-2\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Customer</label>\n                <div class=\"has-label\">\n                    <select class=\"form-control\" v-model=\"model.customer_id\">\n                        <option value=\"0\" default>Any</option>\n                        <option v-for=\"(el, key) in customers\" :value=\"el.id\" :key=\"key\">{{el.name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Warehouse</label>\n                <div class=\"has-label\">\n                    <select class=\"form-control\" v-model=\"model.warehouse_id\">\n                        <option :value=\"0\">Any</option>\n                        <option\n                            v-for=\"(el, key) in warehouses\"\n                            :value=\"el.id\"\n                            :key=\"key\"\n                        >{{el.name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Driver</label>\n                <div class=\"has-label\">\n                    <select class=\"form-control\" v-model=\"model.driver_id\">\n                        <option :value=\"0\">Any</option>\n                        <option\n                            v-for=\"(driver, key) in drivers\"\n                            :value=\"driver.id\"\n                            :key=\"key\"\n                        >{{driver.first_name}} {{driver.last_name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"col-md-2\">\n            <base-input label=\"Start Date\">\n                <flat-picker\n                    slot-scope=\"{focus, blur}\"\n                    @on-open=\"focus\"\n                    @on-close=\"blur\"\n                    :config=\"{allowInput: true}\"\n                    class=\"form-control datepicker\"\n                    v-model=\"model.created_start\"\n                ></flat-picker>\n            </base-input>\n        </div>\n        <div class=\"col-md-2\">\n            <base-input label=\"End Date\">\n                <flat-picker\n                    slot-scope=\"{focus, blur}\"\n                    @on-open=\"focus\"\n                    @on-close=\"blur\"\n                    :config=\"{allowInput: true}\"\n                    class=\"form-control datepicker\"\n                    v-model=\"model.created_end\"\n                ></flat-picker>\n            </base-input>\n        </div>\n        <div class=\"col-md-1\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Type</label>\n                <div class=\"has-label\">\n                    <select id=\"make\" name=\"type\" class=\"form-control\" v-model=\"model.type\">\n                        <option value=\"any\">All</option>\n                        <option value=\"service\">Service</option>\n                        <option value=\"invoice\">Invoice</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-1\">\n            <div class=\"form-group\">\n                <label class=\"form-control-label\">Completed</label>\n                <div class=\"has-label\">\n                    <select\n                        id=\"completed\"\n                        name=\"type\"\n                        class=\"form-control\"\n                        v-model=\"model.completed\"\n                    >\n                        <option value=\"any\">Any</option>\n                        <option value=\"yes\">Yes</option>\n                        <option value=\"no\">No</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <!-- <div class=\"col-md-1\">\n                    <label class=\"form-control-label\">&nbsp;</label>\n                    <br />\n                    <base-button type=\"primary\" @click=\"fetchReport()\">Generate</base-button>\n        </div>-->\n    </div>\n</template>\n\n<script>\nimport api from '@/api/report'\nimport flatPicker from 'vue-flatpickr-component'\nimport moment from 'moment'\n\nexport default {\n    components: { flatPicker },\n    name: 'reports-table',\n    props: ['value'],\n    data() {\n        return {\n            model: {\n                driver_id: 0,\n                customer_id: 0,\n                warehouse_id: 0,\n                completed: 'any',\n                type: 'any',\n                created_start: moment()\n                    .startOf('month')\n                    .format('YYYY-MM-DD'),\n                created_end: moment()\n                    .endOf('month')\n                    .format('YYYY-MM-DD'),\n            },\n            drivers: [],\n            customers: [],\n            warehouses: [],\n        }\n    },\n    mounted() {\n        api.fetchDrivers().then(result => {\n            let drivers = result.data.success.data.data\n\n            drivers = drivers.filter(x => {\n                let res =\n                    x.roles.findIndex(r => {\n                        return r.role.name == 'driver'\n                    }) !== -1\n                return res\n            })\n            this.drivers = drivers\n        })\n\n        api.fetchWarehouses().then(result => {\n            let warehouses = result.data.success.data.data\n            this.warehouses = warehouses\n        })\n\n        api.fetchCustomers().then(result => {\n            let customers = result.data.success.data.data\n            this.customers = customers\n        })\n    },\n    methods: {\n        getFilters() {\n            return this.model\n        },\n    },\n    watch: {\n        model: {\n            handler() {\n                console.log('emitting change')\n                console.log(this.model)\n                this.$emit('input', this.model)\n            },\n            deep: true,\n        },\n    },\n}\n</script>"]}]}