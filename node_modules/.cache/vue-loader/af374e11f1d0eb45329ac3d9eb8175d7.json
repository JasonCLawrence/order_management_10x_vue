{"remainingRequest":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jlawrence/10x/apps/OmsVue/src/views/Orders/ImportInvoicesForm.vue?vue&type=template&id=01eedf4f&scoped=true&","dependencies":[{"path":"/home/jlawrence/10x/apps/OmsVue/src/views/Orders/ImportInvoicesForm.vue","mtime":1585672524045},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n    <h2 class=\"text-center\">Import Invoices</h2>\n    <div class=\"steps row mb-4 mt-4\">\n        <div class=\"col-sm-3\">\n            <div :class=\"{'step-header':true,...calcProgressClass(1)}\">1. Import Headers</div>\n        </div>\n        <div class=\"col-sm-3\">\n            <div :class=\"{'step-header':true,...calcProgressClass(2)}\">2. Import Details</div>\n        </div>\n        <div class=\"col-sm-3\">\n            <div :class=\"{'step-header':true,...calcProgressClass(3)}\">3. Upload</div>\n        </div>\n        <div class=\"col-sm-3\">\n            <div :class=\"{'step-header':true,...calcProgressClass(4)}\">4. Complete</div>\n        </div>\n    </div>\n    <div class=\"steps\">\n        <div class=\"step1\" v-if=\"step==1\">\n            <div class=\"mt-8 mb-8 text-center\" v-if=\"invoices.length == 0\">\n                Import\n                <b>Invoice Headers</b> from spreadsheet.\n                <br />Ensure the structure of the sheet follows the\n                <a\n                    href=\"/invoice_headers_template.csv\"\n                    target=\"_blank\"\n                >Header Template</a>.\n                <br />\n                <br />\n                <base-button type=\"primary\" @click=\"importInvoiceHeaders()\">{{ \"Import\" }}</base-button>\n                <input\n                    type=\"file\"\n                    class=\"hide-file-picker\"\n                    id=\"input-excel-header\"\n                    @change=\"importInvoiceHeadersEl\"\n                    ref=\"invoiceHeadersFile\"\n                />\n            </div>\n            <div v-else>\n                <div class=\"overflow-hidden mb-3\">\n                    <base-button\n                        class=\"float-right\"\n                        type=\"warning\"\n                        size=\"sm\"\n                        @click=\"clearInvoiceItems()\"\n                    >Clear Items</base-button>\n                </div>\n                <div style=\"max-height:500px;overflow-y:scroll;\">\n                    <table class=\"table\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">Id</th>\n                                <th scope=\"col\">Name</th>\n                                <th scope=\"col\">Total</th>\n                                <th scope=\"col\">Type</th>\n                                <th scope=\"col\">Address</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"invoice in this.invoices\" :key=\"invoice.id\">\n                                <th scope=\"row\">{{ invoice.id }}</th>\n                                <td>{{ invoice.name }}</td>\n                                <td>${{ currency(invoice.total) }}</td>\n                                <td>{{ invoice.type.toUpperCase() }}</td>\n                                <td style=\"white-space: pre-wrap\">{{ invoice.address }}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class=\"mt-4\">\n                    <!-- <base-button type=\"warning\" @click=\"closeDialog()\">Cancel</base-button> -->\n                    <base-button\n                        class=\"float-right\"\n                        type=\"primary\"\n                        @click=\"goToDetailsStep()\"\n                    >Next</base-button>\n                </div>\n            </div>\n        </div>\n        <div class=\"step2\" v-if=\"step==2\">\n            <div class=\"mt-8 mb-8 text-center\" v-if=\"this.detailsUploaded==false\">\n                Import\n                <b>Invoice Details</b> from spreadsheet.\n                <br />Ensure the structure of the sheet follows the\n                <a\n                    href=\"/invoice_details_template.csv\"\n                    target=\"_blank\"\n                >Detail Template</a>.\n                <br />\n                <br />\n                <base-button type=\"primary\" @click=\"importInvoiceDetails()\">{{ \"Import\" }}</base-button>\n                <input\n                    type=\"file\"\n                    class=\"hide-file-picker\"\n                    id=\"input-excel-header\"\n                    @change=\"importInvoiceDetailsEl\"\n                    ref=\"invoiceDetailsFile\"\n                />\n            </div>\n            <div v-else class=\"mt-5\">\n                <div class=\"row mb-4\">\n                    <div class=\"col-md-6\">\n                        <base-input disabled :value=\"invoices[invoiceIndex].name\" />\n                    </div>\n                    <div class=\"col-md-6 text-right\">\n                        <base-button type=\"default\" @click=\"previousInvoice()\">&lt;</base-button>\n                        {{ invoiceIndex + 1 }} / {{ invoices.length }}\n                        <base-button type=\"default\" @click=\"nextInvoice()\">&gt;</base-button>\n                    </div>\n                </div>\n                <div class=\"invoice-items-list\" v-if=\"invoices[invoiceIndex].items.length != 0\">\n                    <div class=\"row\">\n                        <div class=\"col-md-5\">\n                            <b>Item</b>\n                        </div>\n                        <div class=\"col-md-2\">\n                            <b>Qty</b>\n                        </div>\n                        <div class=\"col-md-2\">\n                            <b>Price</b>\n                        </div>\n                        <div class=\"col-md-2\">\n                            <b>Total</b>\n                        </div>\n                        <div class=\"col-md-1\"></div>\n                    </div>\n\n                    <div\n                        class=\"row invoice-item mt-2\"\n                        v-for=\"(item, index) in invoices[invoiceIndex].items\"\n                        :key=\"index\"\n                    >\n                        <div class=\"col-md-5\">\n                            <input\n                                placeholder\n                                name=\"name\"\n                                class=\"form-control\"\n                                v-model=\"invoices[invoiceIndex].items[index].item\"\n                            />\n                        </div>\n                        <div class=\"col-md-2\">\n                            <input\n                                placeholder\n                                name=\"name\"\n                                class=\"form-control\"\n                                v-model=\"invoices[invoiceIndex].items[index].quantity\"\n                            />\n                        </div>\n                        <div class=\"col-md-2\">\n                            <input\n                                placeholder\n                                type=\"number\"\n                                min=\"0.01\"\n                                max=\"100000\"\n                                name=\"name\"\n                                class=\"form-control\"\n                                v-model=\"invoices[invoiceIndex].items[index].price\"\n                            />\n                        </div>\n                        <div\n                            class=\"col-md-2\"\n                        >${{currency(invoices[invoiceIndex].items[index].price * invoices[invoiceIndex].items[index].quantity)}}</div>\n                        <div class=\"col-md-1\">\n                            <base-button\n                                type=\"warning\"\n                                @click=\"deleteInvoiceItem(invoiceIndex, index)\"\n                            >&times;</base-button>\n                        </div>\n                    </div>\n                </div>\n\n                <div\n                    class=\"invoice-invoice-list\"\n                    v-if=\"invoices[invoiceIndex].tasks.length != 0\"\n                >\n                    <div class=\"row\">\n                        <div class=\"col-md-12\">\n                            <b>Tasks</b>\n                        </div>\n                    </div>\n\n                    <div\n                        class=\"row invoice-item mt-2\"\n                        v-for=\"(item, index) in invoices[invoiceIndex].tasks\"\n                        :key=\"index\"\n                    >\n                        <div class=\"col-md-11\">\n                            <input\n                                placeholder\n                                name=\"name\"\n                                class=\"form-control\"\n                                v-model=\"invoices[invoiceIndex].tasks[index]\"\n                            />\n                        </div>\n                        <div class=\"col-md-1\">\n                            <base-button\n                                type=\"warning\"\n                                @click=\"deleteInvoiceTask(invoiceIndex, index)\"\n                            >&times;</base-button>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- <div v-if=\"invoiceItems.length != 0\" class=\"row invoice-total\">\n                <div class=\"col-md-7\"></div>\n                <div class=\"col-md-2 text-right\">\n                    <b>Total</b>\n                </div>\n                <div class=\"col-md-2\">\n                    <b>${{ currency(invoiceTotal) }}</b>\n                </div>\n                </div>-->\n\n                <div class=\"row\">\n                    <div class=\"col-md-12 mt-4\">\n                        <base-button\n                            type=\"primary\"\n                            @click=\"goToHeadersStep()\"\n                        >{{ \"Previous Step\" }}</base-button>\n                        <base-button\n                            class=\"float-right\"\n                            type=\"primary\"\n                            @click=\"goToUploadStep()\"\n                        >{{ \"Next Step\" }}</base-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"step3\" v-if=\"step==3\">\n            <div style=\"max-height:500px;overflow-y:scroll;\">\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Id</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Upload Status</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"invoice in this.invoices\" :key=\"invoice.id\">\n                            <th scope=\"row\">{{invoice.id}}</th>\n                            <td>{{invoice.name}}</td>\n                            <td\n                                class=\"text-uppercase\"\n                                :class=\"[getInvoiceStatusStyle(invoice.upload_status)]\"\n                            >{{invoice.upload_status}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div>\n                Progress..\n                <base-progress type=\"success\" :value=\"uploadProgress\" />\n            </div>\n            <div>\n                <base-button\n                    type=\"primary\"\n                    @click=\"goToDetailsStep()\"\n                    :disabled=\"uploading\"\n                >Previous Step</base-button>\n                <base-button\n                    class=\"float-right\"\n                    type=\"primary\"\n                    @click=\"uploadInvoices()\"\n                >Upload!</base-button>\n            </div>\n        </div>\n        <div class=\"step2\" v-if=\"step==4\">\n            <div class=\"mt-6 mb-4 text-center\">\n                <h1>Import Complete!</h1>\n                <br />\n                <b>Orders Uploaded</b>\n                <br />\n                <b class=\"text-success\">{{completedUploads}}</b>\n                <br />\n                <b>Orders Failed</b>\n                <br />\n                <b class=\"text-warning\">{{failedUploads}}</b>\n                <br />\n                <br />\n                <base-button\n                    v-if=\"failedUploads!==0\"\n                    type=\"primary\"\n                    @click=\"goToUploadStep()\"\n                >{{ \"Retry\" }}</base-button>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-md-12 mt-4\">\n                    <base-button type=\"primary\" @click=\"goToUploadStep()\">{{ \"Previous Step\" }}</base-button>\n                    <base-button\n                        class=\"float-right\"\n                        type=\"primary\"\n                        @click=\"close()\"\n                    >{{ \"Close\" }}</base-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n",null]}