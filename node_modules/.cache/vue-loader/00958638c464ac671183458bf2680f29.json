{"remainingRequest":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jlawrence/10x/apps/OmsVue/src/views/Orders/ImportInvoicesForm.vue?vue&type=template&id=31070c16&scoped=true&","dependencies":[{"path":"/home/jlawrence/10x/apps/OmsVue/src/views/Orders/ImportInvoicesForm.vue","mtime":1585672524045},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jlawrence/10x/apps/OmsVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"Import Invoices\")]),_c('div',{staticClass:\"steps row mb-4 mt-4\"},[_c('div',{staticClass:\"col-sm-3\"},[_c('div',{class:Object.assign({}, {'step-header':true},_vm.calcProgressClass(1))},[_vm._v(\"1. Import Headers\")])]),_c('div',{staticClass:\"col-sm-3\"},[_c('div',{class:Object.assign({}, {'step-header':true},_vm.calcProgressClass(2))},[_vm._v(\"2. Import Details\")])]),_c('div',{staticClass:\"col-sm-3\"},[_c('div',{class:Object.assign({}, {'step-header':true},_vm.calcProgressClass(3))},[_vm._v(\"3. Upload\")])]),_c('div',{staticClass:\"col-sm-3\"},[_c('div',{class:Object.assign({}, {'step-header':true},_vm.calcProgressClass(4))},[_vm._v(\"4. Complete\")])])]),_c('div',{staticClass:\"steps\"},[(_vm.step==1)?_c('div',{staticClass:\"step1\"},[(_vm.invoices.length == 0)?_c('div',{staticClass:\"mt-8 mb-8 text-center\"},[_vm._v(\"\\n                Import\\n                \"),_c('b',[_vm._v(\"Invoice Headers\")]),_vm._v(\" from spreadsheet.\\n                \"),_c('br'),_vm._v(\"Ensure the structure of the sheet follows the\\n                \"),_c('a',{attrs:{\"href\":\"/invoice_headers_template.csv\",\"target\":\"_blank\"}},[_vm._v(\"Header Template\")]),_vm._v(\".\\n                \"),_c('br'),_c('br'),_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.importInvoiceHeaders()}}},[_vm._v(_vm._s(\"Import\"))]),_c('input',{ref:\"invoiceHeadersFile\",staticClass:\"hide-file-picker\",attrs:{\"type\":\"file\",\"id\":\"input-excel-header\"},on:{\"change\":_vm.importInvoiceHeadersEl}})],1):_c('div',[_c('div',{staticClass:\"overflow-hidden mb-3\"},[_c('base-button',{staticClass:\"float-right\",attrs:{\"type\":\"warning\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.clearInvoiceItems()}}},[_vm._v(\"Clear Items\")])],1),_c('div',{staticStyle:{\"max-height\":\"500px\",\"overflow-y\":\"scroll\"}},[_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((this.invoices),function(invoice){return _c('tr',{key:invoice.id},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(invoice.id))]),_c('td',[_vm._v(_vm._s(invoice.name))]),_c('td',[_vm._v(\"$\"+_vm._s(_vm.currency(invoice.total)))]),_c('td',[_vm._v(_vm._s(invoice.type.toUpperCase()))]),_c('td',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(invoice.address))])])}),0)])]),_c('div',{staticClass:\"mt-4\"},[_c('base-button',{staticClass:\"float-right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goToDetailsStep()}}},[_vm._v(\"Next\")])],1)])]):_vm._e(),(_vm.step==2)?_c('div',{staticClass:\"step2\"},[(this.detailsUploaded==false)?_c('div',{staticClass:\"mt-8 mb-8 text-center\"},[_vm._v(\"\\n                Import\\n                \"),_c('b',[_vm._v(\"Invoice Details\")]),_vm._v(\" from spreadsheet.\\n                \"),_c('br'),_vm._v(\"Ensure the structure of the sheet follows the\\n                \"),_c('a',{attrs:{\"href\":\"/invoice_details_template.csv\",\"target\":\"_blank\"}},[_vm._v(\"Detail Template\")]),_vm._v(\".\\n                \"),_c('br'),_c('br'),_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.importInvoiceDetails()}}},[_vm._v(_vm._s(\"Import\"))]),_c('input',{ref:\"invoiceDetailsFile\",staticClass:\"hide-file-picker\",attrs:{\"type\":\"file\",\"id\":\"input-excel-header\"},on:{\"change\":_vm.importInvoiceDetailsEl}})],1):_c('div',{staticClass:\"mt-5\"},[_c('div',{staticClass:\"row mb-4\"},[_c('div',{staticClass:\"col-md-6\"},[_c('base-input',{attrs:{\"disabled\":\"\",\"value\":_vm.invoices[_vm.invoiceIndex].name}})],1),_c('div',{staticClass:\"col-md-6 text-right\"},[_c('base-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.previousInvoice()}}},[_vm._v(\"<\")]),_vm._v(\"\\n                        \"+_vm._s(_vm.invoiceIndex + 1)+\" / \"+_vm._s(_vm.invoices.length)+\"\\n                        \"),_c('base-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.nextInvoice()}}},[_vm._v(\">\")])],1)]),(_vm.invoices[_vm.invoiceIndex].items.length != 0)?_c('div',{staticClass:\"invoice-items-list\"},[_vm._m(1),_vm._l((_vm.invoices[_vm.invoiceIndex].items),function(item,index){return _c('div',{key:index,staticClass:\"row invoice-item mt-2\"},[_c('div',{staticClass:\"col-md-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invoices[_vm.invoiceIndex].items[index].item),expression:\"invoices[invoiceIndex].items[index].item\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"\",\"name\":\"name\"},domProps:{\"value\":(_vm.invoices[_vm.invoiceIndex].items[index].item)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.invoices[_vm.invoiceIndex].items[index], \"item\", $event.target.value)}}})]),_c('div',{staticClass:\"col-md-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invoices[_vm.invoiceIndex].items[index].quantity),expression:\"invoices[invoiceIndex].items[index].quantity\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"\",\"name\":\"name\"},domProps:{\"value\":(_vm.invoices[_vm.invoiceIndex].items[index].quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.invoices[_vm.invoiceIndex].items[index], \"quantity\", $event.target.value)}}})]),_c('div',{staticClass:\"col-md-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invoices[_vm.invoiceIndex].items[index].price),expression:\"invoices[invoiceIndex].items[index].price\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"\",\"type\":\"number\",\"min\":\"0.01\",\"max\":\"100000\",\"name\":\"name\"},domProps:{\"value\":(_vm.invoices[_vm.invoiceIndex].items[index].price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.invoices[_vm.invoiceIndex].items[index], \"price\", $event.target.value)}}})]),_c('div',{staticClass:\"col-md-2\"},[_vm._v(\"$\"+_vm._s(_vm.currency(_vm.invoices[_vm.invoiceIndex].items[index].price * _vm.invoices[_vm.invoiceIndex].items[index].quantity)))]),_c('div',{staticClass:\"col-md-1\"},[_c('base-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.deleteInvoiceItem(_vm.invoiceIndex, index)}}},[_vm._v(\"×\")])],1)])})],2):_vm._e(),(_vm.invoices[_vm.invoiceIndex].tasks.length != 0)?_c('div',{staticClass:\"invoice-invoice-list\"},[_vm._m(2),_vm._l((_vm.invoices[_vm.invoiceIndex].tasks),function(item,index){return _c('div',{key:index,staticClass:\"row invoice-item mt-2\"},[_c('div',{staticClass:\"col-md-11\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invoices[_vm.invoiceIndex].tasks[index]),expression:\"invoices[invoiceIndex].tasks[index]\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"\",\"name\":\"name\"},domProps:{\"value\":(_vm.invoices[_vm.invoiceIndex].tasks[index])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.invoices[_vm.invoiceIndex].tasks, index, $event.target.value)}}})]),_c('div',{staticClass:\"col-md-1\"},[_c('base-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.deleteInvoiceTask(_vm.invoiceIndex, index)}}},[_vm._v(\"×\")])],1)])})],2):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 mt-4\"},[_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goToHeadersStep()}}},[_vm._v(_vm._s(\"Previous Step\"))]),_c('base-button',{staticClass:\"float-right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goToUploadStep()}}},[_vm._v(_vm._s(\"Next Step\"))])],1)])])]):_vm._e(),(_vm.step==3)?_c('div',{staticClass:\"step3\"},[_c('div',{staticStyle:{\"max-height\":\"500px\",\"overflow-y\":\"scroll\"}},[_c('table',{staticClass:\"table\"},[_vm._m(3),_c('tbody',_vm._l((this.invoices),function(invoice){return _c('tr',{key:invoice.id},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(invoice.id))]),_c('td',[_vm._v(_vm._s(invoice.name))]),_c('td',{staticClass:\"text-uppercase\",class:[_vm.getInvoiceStatusStyle(invoice.upload_status)]},[_vm._v(_vm._s(invoice.upload_status))])])}),0)])]),_c('div',[_vm._v(\"\\n                Progress..\\n                \"),_c('base-progress',{attrs:{\"type\":\"success\",\"value\":_vm.uploadProgress}})],1),_c('div',[_c('base-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.uploading},on:{\"click\":function($event){return _vm.goToDetailsStep()}}},[_vm._v(\"Previous Step\")]),_c('base-button',{staticClass:\"float-right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.uploadInvoices()}}},[_vm._v(\"Upload!\")])],1)]):_vm._e(),(_vm.step==4)?_c('div',{staticClass:\"step2\"},[_c('div',{staticClass:\"mt-6 mb-4 text-center\"},[_c('h1',[_vm._v(\"Import Complete!\")]),_c('br'),_c('b',[_vm._v(\"Orders Uploaded\")]),_c('br'),_c('b',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm.completedUploads))]),_c('br'),_c('b',[_vm._v(\"Orders Failed\")]),_c('br'),_c('b',{staticClass:\"text-warning\"},[_vm._v(_vm._s(_vm.failedUploads))]),_c('br'),_c('br'),(_vm.failedUploads!==0)?_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goToUploadStep()}}},[_vm._v(_vm._s(\"Retry\"))]):_vm._e()],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 mt-4\"},[_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goToUploadStep()}}},[_vm._v(_vm._s(\"Previous Step\"))]),_c('base-button',{staticClass:\"float-right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(_vm._s(\"Close\"))])],1)])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Id\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Total\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Type\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Address\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-5\"},[_c('b',[_vm._v(\"Item\")])]),_c('div',{staticClass:\"col-md-2\"},[_c('b',[_vm._v(\"Qty\")])]),_c('div',{staticClass:\"col-md-2\"},[_c('b',[_vm._v(\"Price\")])]),_c('div',{staticClass:\"col-md-2\"},[_c('b',[_vm._v(\"Total\")])]),_c('div',{staticClass:\"col-md-1\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('b',[_vm._v(\"Tasks\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Id\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Upload Status\")])])])}]\n\nexport { render, staticRenderFns }"]}